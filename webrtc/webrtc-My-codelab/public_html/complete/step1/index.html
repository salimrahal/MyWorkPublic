<!DOCTYPE html>
<html>

    <head>
 <meta charset="UTF-8">
        <meta name="keywords" content="JavaScript, WebRTC" />
        <meta name="description" content="WebRTC codelab" />
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1">

        <title>WebRTC codelab: step 1</title>

        <!-- When we finish the codelab we'll move CSS and JavaScript to separate files -->

        <!-- CSS will go here -->
        <style>
            video{
                //width: 100%;//filling all the page: bonus point
                filter: hue-rotate(180deg) saturate(200%);
                -moz-filter: hue-rotate(180deg) saturate(200%);
                -webkit-filter: hue-rotate(180deg) saturate(200%);
            }
        </style>

        <script src='js/lib/adapter.js'></script>

    </head>

    <body>
        <video></video>
        <!-- HTML will go here -->

        <!-- JavaScript will go here -->
        <script>
            navigator.getUserMedia = navigator.getUserMedia ||
                    navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

            var constraints = {video: true};

            function successCallback(localMediaStream) {
                window.stream = localMediaStream; // stream available to console
                console.log("successCallback: localMediaStream ", localMediaStream);
                //bonus point        
                //localMediaStream.stop();
                //gettting the video track: returns: mediastreamtrack
                console.log("successCallback: localMediaStream.getVideoTracks(): ", localMediaStream.getVideoTracks());
                var video = document.querySelector("video");
                video.src = window.URL.createObjectURL(localMediaStream);
                video.play();
            }

            function errorCallback(error) {
                console.log("navigator.getUserMedia error: ", error);
            }

            navigator.getUserMedia(constraints, successCallback, errorCallback);
        </script>

    </body>

</html>
